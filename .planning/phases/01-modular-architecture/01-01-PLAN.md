---
phase: 01-modular-architecture
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - skill/config/gates-full.md
  - skill/guides/GATE-EXAMPLES.md
  - skill/guides/EDGE-CASES.md
autonomous: true

must_haves:
  truths:
    - "config/ directory exists with gates-full.md"
    - "guides/ directory exists with placeholder files"
    - "All 11 gate definitions exist in gates-full.md"
    - "Template variables documented per gate"
  artifacts:
    - path: "skill/config/gates-full.md"
      provides: "Complete 11-gate specifications with template variables"
      contains: "## Gate 1:"
    - path: "skill/guides/GATE-EXAMPLES.md"
      provides: "Placeholder structure for pass/fail examples"
      contains: "Status: Placeholder"
    - path: "skill/guides/EDGE-CASES.md"
      provides: "Placeholder structure for edge case rules"
      contains: "Status: Placeholder"
  key_links:
    - from: "skill/config/gates-full.md"
      to: "skill/templates/audit-report.md"
      via: "Template variable documentation"
      pattern: "gate[0-9]+_status|gate[0-9]+_verdict"
---

<objective>
Create the modular directory structure and extract gate definitions from SKILL.md to config/gates-full.md.

Purpose: Establishes the file architecture that enables incremental enhancement without monolithic edits. Gate definitions become a standalone reference file.

Output: `config/gates-full.md` with all 11 gates, placeholder files in `guides/`, directory structure ready for Phase 2.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-modular-architecture/01-RESEARCH.md

# Current files to reference
@skill/SKILL.md
@skill/templates/audit-report.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create directory structure and extract gate definitions</name>
  <files>
    skill/config/gates-full.md
  </files>
  <action>
Create `skill/config/` directory and `skill/config/gates-full.md`.

Extract gate definitions from SKILL.md lines 27-242 (all 11 gates) into gates-full.md.

Structure gates-full.md with:
1. **Header with metadata:**
   ```markdown
   # RFU Audit: Complete Gate Definitions

   This file contains the detailed specifications for all 11 gates of the RFU framework.

   **Referenced by:** skill/SKILL.md
   **Purpose:** Detailed evaluation criteria for each gate
   **Last updated:** [current date]
   ```

2. **Each gate section must include:**
   - Gate number and name (## Gate N: Name)
   - Core question/process
   - Pass criteria
   - Fail indicators
   - **Template Variables** section listing all variables from audit-report.md for that gate

Template variables per gate (from audit-report.md):
- Gate 1: gate1_status, why1, why2, why3, why4, why5, bedrock_need, gate1_verdict
- Gate 2: gate2_status, inversion_notice, inversion_alternative, inversion_severity, gate2_verdict
- Gate 3: gate3_status, time_discovery, notes_discovery, time_comprehension, notes_comprehension, time_install, notes_install, time_first_use, notes_first_use, time_aha, notes_aha, time_total, gate3_verdict
- Gate 4: gate4_status, bartender_sentence, bartender_jargon, bartender_value, bartender_immediate, gate4_verdict
- Gate 5: gate5_status, wallet_self, wallet_self_reason, wallet_person1, wallet_person2, wallet_person3, gate5_verdict
- Gate 6: gate6_status, jtbd_situation, jtbd_motivation, jtbd_outcome, jtbd_specific, jtbd_motivation_clear, jtbd_outcome_clear, gate6_verdict
- Gate 7: gate7_status, friction_discovery, friction_discovery_issue, friction_comprehension, friction_comprehension_issue, friction_install, friction_install_issue, friction_first, friction_first_issue, friction_repeated, friction_repeated_issue, friction_mastery, friction_mastery_issue, friction_highest, gate7_verdict
- Gate 8: gate8_status, second_viral, second_ecosystem, second_retention, second_lockin, second_maintenance, second_dependencies, second_net, gate8_verdict
- Gate 9: gate9_status, occam_fewer, occam_simpler, occam_overengineered, occam_essential, gate9_verdict
- Gate 10: gate10_status, pareto_one_feature, pareto_cuttable, pareto_concentration, gate10_verdict
- Gate 11: gate11_status, regret_answer, regret_reasoning, gate11_verdict

3. **"See Also" section per gate:**
   ```markdown
   **See Also:**
   - Future: `guides/GATE-EXAMPLES.md#gate-N` for concrete pass/fail examples (Phase 2)
   - Future: `guides/EDGE-CASES.md#gate-N` for gray area handling (Phase 2)
   ```

Preserve all existing gate content exactly (pass criteria, fail indicators, questions, process descriptions). This is extraction, not modification.
  </action>
  <verify>
    - `ls skill/config/gates-full.md` confirms file exists
    - `grep -c "^## Gate" skill/config/gates-full.md` returns 11
    - `grep "Template Variables" skill/config/gates-full.md | wc -l` returns 11
  </verify>
  <done>
    config/gates-full.md exists with all 11 gate definitions extracted from SKILL.md, template variables documented per gate, and "See Also" references to future guide files.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create placeholder guide files</name>
  <files>
    skill/guides/GATE-EXAMPLES.md
    skill/guides/EDGE-CASES.md
  </files>
  <action>
Create `skill/guides/` directory and two placeholder files.

**GATE-EXAMPLES.md structure:**
```markdown
# Gate Examples: Pass/Fail Reference

This file will contain concrete examples of pass/fail cases for each gate.

**Status:** Placeholder - Phase 2 will populate with examples

---

## Gate 1: 5 Whys

### Example: PASS
(To be added in Phase 2)

### Example: FAIL
(To be added in Phase 2)

---

## Gate 2: Inversion Test

### Example: PASS
(To be added in Phase 2)

### Example: FAIL
(To be added in Phase 2)

---

[Continue for all 11 gates with same structure]
```

**EDGE-CASES.md structure:**
```markdown
# Edge Case Handling Guide

This file will document gray area resolution rules for borderline gates.

**Status:** Placeholder - Phase 2 will populate with edge case rules

---

## General Principles

(To be added in Phase 2)

---

## Gate 5: Wallet Test - Borderline Cases

(To be added in Phase 2)

---

## Gate 10: Pareto Gate - Borderline Cases

(To be added in Phase 2)

---

## Gate 11: Regret Minimization - Borderline Cases

(To be added in Phase 2)

---

[Additional edge case sections to be added in Phase 2]
```

Include all 11 gates in GATE-EXAMPLES.md with placeholder structure.
Focus EDGE-CASES.md on Gates 5, 10, 11 (identified as vague in CONCERNS.md) plus general principles section.
  </action>
  <verify>
    - `ls skill/guides/GATE-EXAMPLES.md skill/guides/EDGE-CASES.md` confirms both exist
    - `grep -c "^## Gate" skill/guides/GATE-EXAMPLES.md` returns 11
    - `grep "Status: Placeholder" skill/guides/*.md | wc -l` returns 2
  </verify>
  <done>
    guides/GATE-EXAMPLES.md has placeholder structure for all 11 gates. guides/EDGE-CASES.md has placeholder structure focusing on problematic gates (5, 10, 11). Both files clearly marked as Phase 2 content.
  </done>
</task>

<task type="auto">
  <name>Task 3: Create reference directory</name>
  <files>
    skill/reference/.gitkeep
  </files>
  <action>
Create `skill/reference/` directory with a `.gitkeep` file to ensure the directory is tracked in git.

The reference directory is reserved for future use (TEMPLATE-SPEC.md in Phase 6). For now, just establish the directory structure.

`.gitkeep` content: empty file (standard git pattern for empty directories)
  </action>
  <verify>
    - `ls -la skill/reference/` shows .gitkeep exists
  </verify>
  <done>
    reference/ directory exists and is tracked in git via .gitkeep.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. Directory structure exists: `ls -la skill/` shows config/, guides/, templates/, reference/
2. Gate definitions file: `wc -l skill/config/gates-full.md` shows ~200+ lines
3. Placeholder files: `grep "Status: Placeholder" skill/guides/*.md` returns 2 matches
4. Template variable coverage: All 80+ template variables from audit-report.md are documented in gates-full.md
</verification>

<success_criteria>
- skill/config/gates-full.md exists with all 11 gate definitions
- Each gate in gates-full.md documents its template variables
- skill/guides/GATE-EXAMPLES.md exists with placeholder structure for 11 gates
- skill/guides/EDGE-CASES.md exists with placeholder structure
- skill/reference/ directory exists
- templates/audit-report.md unchanged (verified via git diff)
</success_criteria>

<output>
After completion, create `.planning/phases/01-modular-architecture/01-01-SUMMARY.md`
</output>
